curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
books_json <- books %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf) %>%
toJSON(pretty = TRUE, auto_unbox = TRUE)
#write(books_json, file = paste0(curr_path,"/","workshop_data.js"))
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
# Convert the list to JSON
json_output <- toJSON(json_data, pretty = TRUE, auto_unbox = TRUE)
write(json_output, file = paste0(curr_path,"/","virtual_bookshelves.js"))
const virtual_bookshelves = [
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
books_json <- books %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf) %>%
toJSON(pretty = TRUE, auto_unbox = TRUE)
#write(books_json, file = paste0(curr_path,"/","workshop_data.js"))
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic, topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
# Convert the list to JSON
json_output <- toJSON(json_data, pretty = TRUE, auto_unbox = TRUE)
write(json_output, file = paste0(curr_path,"/","virtual_bookshelves.js"))
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
books_json <- books %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf)
head(books)
head(books_json)
distinct(books_json$floor)
unique(books_json$floor)
books_json %>% filter(floor==1) %>% sample_n(4)
books_json %>% filter(floor==1) %>% sample_n(4)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
head(books)
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","book_recommendations.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
head(recommended_books)
head(books)
head(books,2)
head(recommended_books, 2)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic_id = "Book Recommendations",
topic_id = "recommended_books") %>%
replace(
sub_topic = recommender,
OCLC = "unique_id")
recommended_books %<>% mutate(
topic_id = "Book Recommendations",
topic_id = "recommended_books") %>%
replace(
sub_topic = recommender,
OCLC = unique_id)
recommended_books %<>% mutate(
topic_id = "Book Recommendations",
topic_id = "recommended_books") %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
head(recommended_books)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books") %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
books_json <- books %>% bind_rows(recommended_books)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
books_json <- books %>% bind_rows(recommended_books)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
books_json <- books %>% bind_rows(recommended_books)
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf)
books_json <- books %>% bind_rows(recommended_books) %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf)
books_json
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
books_json <- books %>% bind_rows(recommended_books) %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf) %>%
toJSON(pretty = TRUE, auto_unbox = TRUE)
write(books_json, file = paste0(curr_path,"/","workshop_data.js"))
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic, topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
json_data
json_data %>% filter(topic_id == |)
json_data %>% filter(topic_id == "recommended_books")
unique(json_data$topic_id)
books %<>% books %>% bind_rows(recommended_books)
books %<>%  bind_rows(recommended_books)
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic, topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
unique(json_data$topic_id)
# Convert the list to JSON
json_output <- toJSON(json_data, pretty = TRUE, auto_unbox = TRUE)
write(json_output, file = paste0(curr_path,"/","virtual_bookshelves.js"))
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
head(books)
head(recommended_q)
head(recommended_books)
recommended_books %>% sample_n(10)
recommended_books %>% sample_n(10)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number),
cover_file = paste0("recommended_books/",cover_file)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
head(books)
head(recommended_books)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number),
cover_file = ifelse(!is.na(cover_file),paste0("recommended_books/",cover_file),NA)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
recommended_books %>% sample_n(10)
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number),
cover_file = ifelse(!is.na(cover_file),paste0("recommended_books/",cover_file),NA)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
books %<>%  bind_rows(recommended_books)
books_json <- books  %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf) %>%
toJSON(pretty = TRUE, auto_unbox = TRUE)
write(books_json, file = paste0(curr_path,"/","workshop_data.js"))
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic, topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
# Convert the list to JSON
json_output <- toJSON(json_data, pretty = TRUE, auto_unbox = TRUE)
write(json_output, file = paste0(curr_path,"/","virtual_bookshelves.js"))
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number),
cover_file = ifelse(!is.na(cover_file),paste0("_recommended_books/",cover_file),NA)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
books %<>%  bind_rows(recommended_books)
books_json <- books  %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf) %>%
toJSON(pretty = TRUE, auto_unbox = TRUE)
write(books_json, file = paste0(curr_path,"/","workshop_data.js"))
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic, topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
# Convert the list to JSON
json_output <- toJSON(json_data, pretty = TRUE, auto_unbox = TRUE)
write(json_output, file = paste0(curr_path,"/","virtual_bookshelves.js"))
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number),
cover_file = ifelse(!is.na(cover_file),paste0("_recommended_books/cover_",cover_file),NA)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
books %<>%  bind_rows(recommended_books)
books_json <- books  %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf) %>%
toJSON(pretty = TRUE, auto_unbox = TRUE)
write(books_json, file = paste0(curr_path,"/","workshop_data.js"))
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic, topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
# Convert the list to JSON
json_output <- toJSON(json_data, pretty = TRUE, auto_unbox = TRUE)
write(json_output, file = paste0(curr_path,"/","virtual_bookshelves.js"))
Willemijn Elkhuizen
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number),
cover_file = ifelse(!is.na(cover_file),paste0("_recommended_books/cover_",cover_file),NA)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
head(recommended_books)
recommended_books %<>% filter(sub_topic != "Willemijn Elkhuizen")
recommended_books %<>% filter(sub_topic != "Willemijn Elkhuizen")
recommended_books
recommended_books %>% head()
library(openxlsx2)
library(dplyr)
library(magrittr)
library(tidyverse)
library(jsonlite)
curr_path = rstudioapi::getSourceEditorContext()$path
curr_path <- sub("/[^/]*$", "", curr_path)
books <- openxlsx2::read_xlsx(paste0(curr_path,"/","workshop_data.xlsx"))
recommended_books <- openxlsx2::read_xlsx(paste0(curr_path,"/","recommended_books.xlsx"))
recommended_books %<>% mutate(
topic = "Book Recommendations",
topic_id = "recommended_books",
year = as.character(year),
std_call_number = as.character(std_call_number),
cover_file = ifelse(!is.na(cover_file),paste0("_recommended_books/cover_",cover_file),NA)) %>%
rename(
sub_topic = recommender,
OCLC = unique_id)
recommended_books %<>% filter(sub_topic != "Willemijn Elkhuizen")
books %<>%  bind_rows(recommended_books)
books_json <- books  %>%
select(title,authors,year,OCLC,description,std_call_number,floor,cover_file,shelf) %>%
toJSON(pretty = TRUE, auto_unbox = TRUE)
write(books_json, file = paste0(curr_path,"/","workshop_data.js"))
books %<>% arrange(std_call_number)
books %<>% mutate(floor = case_when(shelf <= 180 ~ 4,
shelf <= 474 ~ 3,
shelf <= 774 ~ 2,
TRUE         ~ 1))
books %<>% group_by(topic,sub_topic) %>% mutate(book_no = row_number()) %>% ungroup()
books %<>% mutate(book_no = book_no + 5) #This makes the first shelf smaller, leaving room for the subtopic section tag
books %<>% mutate(virtual_shelf_temp = ((book_no -1 ) %/% 25)+1)
#books %<>% group_by(sub_topic, virtual_shelf_temp) %>% mutate(virtual_shelf = cur_group_id()) %>% ungroup()
books %<>% select(topic, topic_id,sub_topic,OCLC,cover_file,virtual_shelf_temp)
#abooks %<>% nest(.by = c(topic,virtual_shelf))
books$cover_file[is.na(books$cover_file)] <- "NA"
json_data <- books %>%
group_by(topic, topic_id, sub_topic, virtual_shelf_temp) %>%
summarise(
books_in_bookcase = n(),
books = list(data.frame(OCLC, cover_file))
) %>%
ungroup() %>%
rowwise()
# Convert the list to JSON
json_output <- toJSON(json_data, pretty = TRUE, auto_unbox = TRUE)
write(json_output, file = paste0(curr_path,"/","virtual_bookshelves.js"))
